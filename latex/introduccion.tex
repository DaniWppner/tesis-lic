Las redes de blockchain siguen un protocolo para manejar un registro distribuido ``confiable'' de los hechos.
La participación en estas redes es por diseño anónima y descentralizada, y hace gran hincapié en la resistencia del sistema a ataques criptográficos.
Una vez registrada, resulta casi imposible  alterar información introducida en una blockchain.
A fines prácticos, una transacción en una de estas bases de datos suele ser considerada eterna e inmutable.
Adicionalmente, la cadena de bloques propiamente dicha, es decir, el historial de la información registrada, es transparente y pública \cite{bitcoin-overview} \cite{survey-of-blockchain-security}.

Desde el origen de Bitcoin en 2009, estas tecnologías se utilizaron para construir un ``libro contable'' distribuido  de transacciones financieras \cite{survey-of-blockchain-security}.
Más adelante, Ethereum es pionera en 2014 \cite{ethereum-white-paper} y se torna desde entonces la más popular de las redes que utilizan su blockchain para soportar de manera distribuida la ejecución de software.
A los programas que se ejecutan en las blockchain se los conoce como contratos inteligentes o \textit{smart contracts} y la capacidad de computarlos se integra íntimiamente al diseño de las mismas.
De hecho, los protocolos de consenso de las blockchains que soportan smart contracts quedan firmemente atados al modelo de cómputo elegido.
Como ejemplo, la red Ethereum provee la \emph{Ethereum Virtual Machine}\cite{ethereum-yellow-paper}, una máquina de pila de profundidad finita, y para su programación desarrolló Solidity\cite{solidity}, un lenguaje de programación compilado curly-brace.
Otra blockchain popular que soporta smart contracts es Algorand, mediante la \textit{Algorand Virtual Machine} \cite{algorand-avm}, otra máquina de pila junto a TEAL, el lenguaje de programación tipo assembly correspondiente.

%El código y estado de los programas es parte de la información guardada en la blockchain.
Una propiedad de las blockchains como sistema de cómputo distribuido es que el modo en el que los contratos inteligentes son incluidos en la blockchain garantiza la seguridad de su ejecución, en el sentido de que puede asegurarse que el resultado obtenido será el mismo que el generado por un código fuente que los usuarios pueden conocer \cite{survey-of-blockchain-security}.
La inmutabilidad de las transacciones registradas asegura que los contratos no pueden ser modificados, lo que además garantiza a los usuarios que el comportamiento de los contratos se mantendrá siempre estable.
Por otro lado, dado que los cambios en el estado del programa son registrados en la blockchain, estos también se consideran irreversibles.
Esto, a pesar de ciertas garantías de estabilidad que les otorga a los usuarios, significa que los defectos en la implementación de los contratos inteligentes no pueden ser reparados, y las transacciones no deseadas originadas de estos defectos no pueden ser revertidas.
Si se quieren evitar defectos, la verificación y validación de los contratos antes de publicarlos en la red es de suma importancia.
De hecho, los ataques a contratos inteligentes para abusar \textit{bugs} han causado históricamente pérdidas materiales a miles de personas \cite{DAO}.

Por esto, es común en la industria contratar a auditores independientes para la validación de contratos inteligentes,
quienes a menudo usan herramientas para facilitar su trabajo y a menudo cuentan sólo con especificaciones informales del comportamiento deseado.
En estas situaciones, una de las tantas técnicas útiles para la validación es  la construcción de una máquina de estados finita que abstraiga el comportamiento del contrato, destacando sólo ciertas propiedades interesantes \cite{predicate-abstraction-for-smart-contract-validation}.
Estas máquinas abstraen al nivel de ``llamado a función'', y están fuertemente basadas en las \textit{EPAs} (Enabledness Preserving Abstraction) \cite{de-caso-epa} que son máquinas de estado que describen las posibles secuencias de llamados a funciones del contrato.
En el trabajo presentado por Godoy et al. en 2022 \cite{predicate-abstraction-for-smart-contract-validation} utilizan un enfoque donde construyen EPAs a partir de código fuente traduciendo manualmente las pre y post condiciones de los contratos inteligentes a un lenguaje intermedio, Alloy \cite{alloy}.
Más tarde en 2023 Torres at al. \cite{torres} presentó un trabajo en el que desarrollan un prototipo que genera las abstracciones a partir de contratos inteligentes programados en Solidity \footnote{El prototipo funciona para versiones de Solidity anteriores a ¿?} de manera automática mediante model checking.

\section{Objetivos}

Nos interesa explorar otras alternativas para la construcción de EPAs para contratos inteligentes implementados en Solidity de manera automática.
Buscamos implementar un prototipo que se base en ejecución simbólica utilizando Manticore, una herramienta open source de ejecución simbólica dinámica con soporte tanto para la EVM como código nativo desarrollada por trailofbits \cite{manticore}.
Esperamos generar abstracciones correctas y de manera eficiente.
Además, Manticore respalda la simulación de una blockchain completa, manteniendo el estado de múltiples contratos y usuarios dentro de la red.
Buscamos aprovechar estas cualidades para detectar comportamientos más complejos en las abstracciones generadas.

\section{Trabajo relacionado}


\section{Ejemplo motivador}

Supongamos que un